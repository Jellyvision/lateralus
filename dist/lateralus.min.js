/* Lateralus v.0.0.5 | https://github.com/Jellyvision/lateralus */
define("lateralus.mixins",["underscore"],function(e){var t={};return t.addComponent=function(e,t,n){n=n||{};if(typeof this.component!="undefined")return this.component.addComponent.apply(this.component,arguments);this.components||(this.components={},this.componentCounters={});var r=this.toString()==="lateralus",i=r?this:this.lateralus,s=new e(i,e.__super__,n,t,r?null:this);r&&s.view&&this.$el.append(s.view.$el);var o=s.toString();this.componentCounters.hasOwnProperty(o)?this.componentCounters[o]++:this.componentCounters[o]=0;var u=o+this.componentCounters[o];return this.components[u]=s,s},t.emit=function(){var t=e.toArray(arguments);this.trigger.apply(this,t),this.component&&this.component.trigger.apply(this.component,t),this.lateralus.trigger.apply(this.lateralus,t)},t.listenFor=function(e,t){var n=this.toString()==="lateralus";n?this.on(e,t):this.listenTo(this.lateralus,e,t)},t._super=function(e,t){var n=this.__super__[e],r=this.__proto;if(n===this[e])while(r){n=r[e];if(typeof n=="function"&&n!==this[e])break;r=r.__proto}return n.apply(this,t)},t}),define("lateralus.component.view",["jquery","underscore","backbone","mustache","./lateralus.mixins"],function(e,t,n,r,i){var s={};s.template=null,s.toString=function(){return this.component.toString()+"-view"},s.constructor=function(e,t,r,i,s,o){this.lateralus=e,this.__super__=t,this.__proto=r,this.parentView=o||null,this.component=i,n.View.call(this,s)},s.initialize=function(e){this.$el.addClass(this.toString()),this.className&&this.$el.addClass(this.className),t.extend(this,t.defaults(t.clone(e),this.attachDefaultOptions)),this.renderTemplate()},s.attachDefaultOptions={},s.addSubview=function(e,t){this.subviews||(this.subviews=[]);var n=new e(this.lateralus,e.__super__,e.prototype.__proto,this.component,t,this);return this.subviews.push(n),n},s.getTemplateRenderData=function(){var e={};return this.model&&t.extend(e,this.model.toJSON()),e},s.renderTemplate=function(){if(!this.template)return;this.$el.children().remove(),this.$el.html(r.render(this.template,this.getTemplateRenderData())),this.bindToDOM()},s.bindToDOM=function(){this.$el.find("[class]").each(t.bind(function(n,r){var i=e(r),s=i.attr("class").split(/\s+/);t.each(s,function(e){if(e.match(/^\$/))return this[e]=i,!1},this)},this))},s.dispose=function(){this.remove();var e=this.parentView;return e&&(e.subviews=t.without(e.subviews,this)),this},t.extend(s,i);var o=n.View.extend(s);return o.extend=function(){var e=n.View.extend.apply(this,arguments);return e.prototype.__proto=this.prototype,e},o}),define("lateralus.component",["underscore","backbone","./lateralus.mixins","./lateralus.component.view"],function(e,t,n,r){function i(t,n,r,i,s){this.lateralus=t,this.__super__=n,this.mixins&&e.each(this.mixins,e.bind(this.mixin,this)),s&&(this.parentComponent=s),this.View&&(this.view=new this.View(t,this.View.__super__,this.View.prototype.__proto,this,i)),e.extend(this,r),this.initialize&&this.initialize(r)}return i.View=r,i.extend=function(n){var r=t.Model.extend.call(this,n),i=!1;e.each(["name"],function(e){if(typeof n[e]=="undefined")throw i=!0,e+" was not provided to Component.extend."});if(i)throw"Component.extend failed.  See previous error message(s).";return e.extend(r,n),r},i.prototype.mixin=function(t){e.extend(this,e.omit(t,"initialize")),typeof t.initialize=="function"&&t.initialize.call(this)},e.extend(i.prototype,t.Events),i.prototype.name="component",e.extend(i.prototype,n),i.prototype.toJSON=function(){return{}},i.prototype.toString=function(){return this.name},i}),define("lateralus",["underscore","backbone","./lateralus.mixins","./lateralus.component"],function(e,t,n,r){function i(e){this.el=e,this.$el=$(e)}return e.extend(i.prototype,t.Events),i.inherit=function(t,n){function r(){}return r.prototype=n.prototype,t.prototype=new r,t},i.beget=function(e){return e.displayName=e.name||"begetConstructor",i.inherit(e,i)},i.prototype.addComponent=n.addComponent,i.prototype.listenFor=n.listenFor,e.each(["log","warn","error"],function(e){i.prototype[e]=function(){typeof console!="undefined"&&console[e]&&console[e].apply(console,arguments)}}),i.prototype.toString=function(){return"lateralus"},i.Component=r,i});