/* Lateralus v.0.3.1 | https://github.com/Jellyvision/lateralus */
define("lateralus/lateralus.mixins",["underscore"],function(e){function n(e){return e.toString()==="lateralus"}function i(t){var r=n(this),i=e.extend(t||{},{lateralus:r?this:this.lateralus});return r||(i.component=this.component||this),i}var t={};t.addComponent=function(e,t,r){r=r||{};if(typeof this.component!="undefined")return this.component.addComponent.apply(this.component,arguments);this.components||(this.components={},this.componentCounters={});var i=n(this),s=i?this:this.lateralus,o=new e(s,r,t||{},i?null:this);i&&o.view&&this.$el.append(o.view.$el);var u=o.toString();this.componentCounters.hasOwnProperty(u)?this.componentCounters[u]++:this.componentCounters[u]=0;var a=u+this.componentCounters[u];return this.components[a]=o,o},t.emit=function(){var t=e.toArray(arguments);this.trigger.apply(this,t);if(n(this))return;this.component&&this.component.trigger.apply(this.component,t),this.lateralus.trigger.apply(this.lateralus,t)},t.listenFor=function(e,t){var r=n(this);r?this.on(e,t):this.listenTo(this.lateralus,e,t)};var r=/^(\S+)\s*(.*)$/;return t.delegateLateralusEvents=function(){var t=this.lateralusEvents;if(!t)return;for(var i in t){var s=t[i];e.isFunction(s)||(s=this[t[i]]),s||new Error('Method "'+s+'" not found for '+this.toString());var o=i.match(r),u=o[1],a=e.bind(s,this);n(this)?this.on(u,a):this.listenTo(this.lateralus,u,a)}return this},t.initModel=function(e,t,n){var r=i.call(this,n);return new e(t,r)},t.initCollection=function(e,t,n){var r=i.call(this,n);return new e(t,r)},t.mixin=function(t){e.extend(this,e.omit(t,"initialize")),typeof t.initialize=="function"&&t.initialize.call(this)},t}),define("lateralus/lateralus.model",["underscore","backbone","./lateralus.mixins"],function(e,t,n){var r={};r.constructor=function(e){this.lateralus=e,this.delegateLateralusEvents(),t.Model.call(this)},e.extend(r,n);var i=t.Model.extend(r);return i.prototype.toString=function(){return this.lateralus.toString()+"-model"},i}),define("lateralus/lateralus.component.view",["jquery","underscore","backbone","mustache","./lateralus.mixins"],function(e,t,n,r,i){var s={};s.template=null,s.constructor=function(e,t,r,i){this.lateralus=e,this.parentView=i||null,this.component=t,this.delegateLateralusEvents(),n.View.call(this,r)},s.initialize=function(e){this.parentView||this.$el.addClass(this.toString()),this.className&&this.$el.addClass(this.className),t.extend(this,t.defaults(t.clone(e),this.attachDefaultOptions)),this.renderTemplate(),this.deferredInitialize&&t.defer(t.bind(this.deferredInitialize,this))},s.attachDefaultOptions={},s.addSubview=function(e,t){this.subviews||(this.subviews=[]);var n=new e(this.lateralus,this.component,t,this);return this.subviews.push(n),n},s.getTemplateRenderData=function(){var e={};return this.model&&t.extend(e,this.model.toJSON()),e},s.renderTemplate=function(){if(!this.template)return;this.$el.children().remove(),this.$el.html(r.render(this.template,this.getTemplateRenderData(),this.templatePartials)),this.bindToDOM()},s.bindToDOM=function(){this.$el.find("[class]").each(t.bind(function(n,r){var i=e(r),s=i.attr("class").split(/\s+/);t.each(s,function(e){if(e.match(/^\$/))return this[e]=i,!1},this)},this))},s.dispose=function(){this.remove();var e=this.parentView;return e&&(e.subviews=t.without(e.subviews,this)),this},t.extend(s,i);var o=n.View.extend(s);return o.prototype.toString=function(){return this.component.toString()+"-view"},o}),define("lateralus/lateralus.component.model",["underscore","backbone","./lateralus.model"],function(e,t,n){var r=n.extend({constructor:function(e,n){this.lateralus=n.lateralus,this.component=n.component,this.delegateLateralusEvents(),t.Model.call(this,e,n)}});return r.prototype.toString=function(){return this.component.toString()+"-model"},r}),define("lateralus/lateralus.component.collection",["underscore","backbone","./lateralus.mixins"],function(e,t,n){var r=t.Collection,i=r.prototype,s={};s.constructor=function(e,t){this.lateralus=t.lateralus,this.component=t.component,this.delegateLateralusEvents(),r.apply(this,arguments)},s.set=function(t,n){var r=e.extend(n||{},{lateralus:this.lateralus,component:this.component});return i.set.call(this,t,r)},e.extend(s,n);var o=r.extend(s);return o.prototype.toString=function(){return this.lateralus.toString()+"-collection"},o}),define("lateralus/lateralus.component",["underscore","backbone","./lateralus.mixins","./lateralus.component.view","./lateralus.component.model","./lateralus.component.collection"],function(e,t,n,r,i,s){function o(t,n,r,i){this.lateralus=t,this.mixins&&e.each(this.mixins,e.bind(this.mixin,this)),i&&(this.parentComponent=i);if(this.View){var s=r;this.Model&&!r.model&&(n.modelOptions=e.extend(n.modelOptions||{},{lateralus:t,component:this}),this.model=new this.Model(n.modelAttributes,n.modelOptions),s.model=this.model),this.view=new this.View(t,this,s)}e.extend(this,n),this.initialize&&this.initialize(n),this.delegateLateralusEvents()}function a(e,t){var n;for(n in t)t[n]===e&&delete t[n]}var u=o.prototype;return o.View=r,o.Model=i,o.Collection=s,o.extend=function(n){var r=t.Model.extend.call(this,n);if(!n.name)throw new Error("A name was not provided to Component.extend.");return e.extend(r,n),r},e.extend(u,t.Events,n),u.name="component",u.dispose=function(){this.view&&this.view.dispose(),this.components&&e.invoke(this.components,"dispose");var t=this.parentComponent;t&&a(this,t.components),e.contains(this.lateralus.components,this)&&a(this,this.lateralus),this.stopListening();var n;for(n in this)this.hasOwnProperty(n)&&delete this[n];return this},u.toJSON=function(){return{}},u.toString=function(){return this.name},o}),define("lateralus/lateralus",["jquery","underscore","backbone","./lateralus.mixins","./lateralus.model","./lateralus.component"],function(e,t,n,r,i,s){function o(t){this.el=t,this.$el=e(t),this.model=new i(this),this.delegateLateralusEvents()}var u=o.prototype;return t.extend(u,n.Events),o.inherit=function(t,n){function r(){}return r.prototype=n.prototype,t.prototype=new r,t},o.beget=function(e){return e.displayName=e.name||"begetConstructor",o.inherit(e,o)},t.extend(u,r),t.each(["log","warn","error"],function(e){u[e]=function(){typeof console!="undefined"&&console[e]&&console[e].apply(console,arguments)}}),u.toString=function(){return"lateralus"},o.Component=s,o}),define("lateralus",["lateralus/lateralus"],function(e){return e});