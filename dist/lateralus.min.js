/* Lateralus v.0.8.0 | https://github.com/Jellyvision/lateralus */
define("lateralus/lateralus.mixins",["underscore"],function(e){function r(e){return e.toString()==="lateralus"}function s(t){var n=r(this),i=e.extend(t||{},{lateralus:n?this:this.lateralus});return n||(i.component=this.component||this),i}var t="_provide:",n={};n.addComponent=function(e,t,n){n=n||{};if(typeof this.component!="undefined")return this.component.addComponent.apply(this.component,arguments);if(this.toString()==="lateralus-model")return this.lateralus.addComponent.apply(this.lateralus,arguments);this.components||(this.components={},this.componentCounters={});var i=r(this),s=i?this:this.lateralus,o=new e(s,n,t||{},i?null:this);i&&o.view&&this.$el.append(o.view.$el);var u=o.toString();this.componentCounters.hasOwnProperty(u)?this.componentCounters[u]++:this.componentCounters[u]=0;var a=u+this.componentCounters[u];return this.components[a]=o,o},n.emit=function(){var t=e.toArray(arguments);this.trigger.apply(this,t);if(r(this))return;this.component&&this.component.trigger.apply(this.component,t),this.lateralus.trigger.apply(this.lateralus,t)},n.amplify=function(t,n){this.listenTo(t,n,e.bind(this.emit,this,n))},n.listenFor=function(e,t){var n=r(this);n?this.on(e,t):this.listenTo(this.lateralus,e,t)},n.setupProviders=function(){if(!this.provide)return;this.lateralusEvents=this.lateralusEvents||{},e.each(this.provide,function(e,n){this.lateralusEvents[t+n]=function(t,n){t(e.apply(this,n))}},this)},n.collect=function(n){var r=e.toArray(arguments).slice(1),i=[];return this.emit(t+n,e.bind(i.push,i),r),i},n.collectOne=function(){return this.collect.apply(this,arguments)[0]};var i=/^(\S+)\s*(.*)$/;return n.delegateLateralusEvents=function(){return this.setupProviders(),e.each({lateralusEvents:this.lateralus||this,modelEvents:this.model},function(t,n){if(!t)return;var s=this[n];if(s){var o=s,u=this.constructor.prototype;if(u[n]){delete u[n];var a=this[n];u[n]=e.defaults(o,a)}}for(var f in s){var l=s[f];e.isFunction(l)||(l=this[s[f]]),l||new Error('Method "'+l+'" not found for '+this.toString());var c=f.match(i),h=c[1],p=e.bind(l,this);r(this)&&r(t)?this.on(h,p):this.listenTo(t,h,p)}},this),this},n.initModel=function(e,t,n){if(r(this))return new e(this,t,n);var i=s.call(this,n);return new e(t,i)},n.initCollection=function(e,t,n){var r=s.call(this,n);return new e(t,r)},n.mixin=function(t){e.extend(this,e.omit(t,"initialize")),typeof t.initialize=="function"&&t.initialize.call(this)},n}),define("lateralus/lateralus.model",["underscore","backbone","./lateralus.mixins"],function(e,t,n){var r={};r.constructor=function(n,r,i){this.lateralus=n,this.delegateLateralusEvents(),this.on("change",e.bind(this.onChange,this)),t.Model.call(this,r,i)},r.onChange=function(){var t=this.changedAttributes();e.each(e.keys(t),function(e){this.emit("change:"+e,t[e]),delete this.changed[e]},this)},e.extend(r,n);var i=t.Model.extend(r);return i.prototype.toString=function(){return this.lateralus.toString()+"-model"},i}),define("lateralus/lateralus.router",["underscore","backbone","./lateralus.mixins"],function(e,t,n){var r={};r.constructor=function(e){this.lateralus=e,this.delegateLateralusEvents(),t.Router.apply(this,arguments)},e.extend(r,n);var i=t.Router.extend(r);return i.prototype.toString=function(){return this.lateralus.toString()+"-router"},i}),define("lateralus/lateralus.component.view",["jquery","underscore","backbone","mustache","./lateralus.mixins"],function(e,t,n,r,i){var s={};s.template=null,s.constructor=function(e,t,r,i){this.lateralus=e,this.parentView=i||null,this.component=t,r.model&&(this.model=r.model),this.delegateLateralusEvents(),n.View.call(this,r)},s.initialize=function(e){this.parentView||this.$el.addClass(this.toString()),this.className&&this.$el.addClass(this.className),t.extend(this,t.defaults(t.clone(e),this.attachDefaultOptions)),this.renderTemplate(),this.deferredInitialize&&t.defer(t.bind(this.deferredInitialize,this))},s.attachDefaultOptions={},s.addSubview=function(e,t){this.subviews||(this.subviews=[]);var n=new e(this.lateralus,this.component,t,this);return this.subviews.push(n),n},s.getTemplateRenderData=function(){var e={};return this.model&&t.extend(e,this.model.toJSON()),t.extend(e,this.lateralus.globalRenderData),e},s.getTemplatePartials=function(){return t.extend(this.templatePartials||{},this.lateralus.globalPartials)},s.renderTemplate=function(){if(!this.template)return;this.$el.children().remove(),this.$el.html(r.render(this.template,this.getTemplateRenderData(),this.getTemplatePartials())),this.bindToDOM()},s.bindToDOM=function(){this.$el.find("[class]").each(t.bind(function(n,r){var i=e(r),s=i.attr("class").split(/\s+/);t.each(s,function(e){if(e.match(/^\$/))return this[e]=i,!1},this)},this))},s.dispose=function(){this.remove();var e=this.parentView;return e&&(e.subviews=t.without(e.subviews,this)),this},t.extend(s,i);var o=n.View.extend(s);return o.prototype.toString=function(){return this.component.toString()+"-view"},o}),define("lateralus/lateralus.component.model",["underscore","backbone","./lateralus.mixins"],function(e,t,n){var r={constructor:function(e,n){this.lateralus=n.lateralus,this.component=n.component,this.delegateLateralusEvents(),t.Model.call(this,e,n)}};e.extend(r,n);var i=t.Model.extend(r);return i.prototype.toString=function(){return this.component.toString()+"-model"},i}),define("lateralus/lateralus.component.collection",["underscore","backbone","./lateralus.mixins"],function(e,t,n){var r=t.Collection,i=r.prototype,s={};s.constructor=function(e,t){this.lateralus=t.lateralus,this.component=t.component,this.delegateLateralusEvents(),r.apply(this,arguments)},s.set=function(t,n){var r=e.extend(n||{},{lateralus:this.lateralus,component:this.component});return i.set.call(this,t,r)},e.extend(s,n);var o=r.extend(s);return o.prototype.toString=function(){return this.lateralus.toString()+"-collection"},o}),define("lateralus/lateralus.component",["underscore","backbone","./lateralus.mixins","./lateralus.component.view","./lateralus.component.model","./lateralus.component.collection"],function(e,t,n,r,i,s){function o(t,n,r,i){this.lateralus=t,this.mixins&&e.each(this.mixins,e.bind(this.mixin,this)),i&&(this.parentComponent=i);if(this.View){var s=r;this.Model&&!r.model&&(n.modelOptions=e.extend(n.modelOptions||{},{lateralus:t,component:this}),this.model=new this.Model(n.modelAttributes,n.modelOptions),s.model=this.model),this.view=new this.View(t,this,s)}e.extend(this,n),this.initialize&&this.initialize(n),this.delegateLateralusEvents()}function a(e,t){var n;for(n in t)t[n]===e&&delete t[n]}var u=o.prototype;return o.View=r,o.Model=i,o.Collection=s,o.extend=function(n){var r=t.Model.extend.call(this,n);if(!n.name)throw new Error("A name was not provided to Component.extend.");return e.extend(r,n),r},e.extend(u,t.Events,n),u.name="component",u.dispose=function(){this.trigger("beforeDispose"),this.view&&this.view.dispose(),this.components&&e.invoke(this.components,"dispose");var t=this.parentComponent;return t&&a(this,t.components),e.contains(this.lateralus.components,this)&&a(this,this.lateralus),this.stopListening(),e(this).lateralusEmptyObject(),this},u.toJSON=function(){return{}},u.toString=function(){return this.name},o}),define("lateralus/lateralus",["jquery","underscore","backbone","./lateralus.mixins","./lateralus.model","./lateralus.router","./lateralus.component"],function(e,t,n,r,i,s,o){function u(t){this.el=t,this.$el=e(t);var n=this.config.Model||i;this.model=new n(this),this.globalRenderData={},this.globalPartials={},this.delegateLateralusEvents()}t.mixin({lateralusEmptyObject:function(e){var t;for(t in e)e.hasOwnProperty(t)&&delete e[t]}});var a=u.prototype;return t.extend(a,n.Events),u.inherit=function(t,n){function r(){}return r.prototype=n.prototype,t.prototype=new r,t},u.beget=function(e,n){var r=n||{};e.displayName=e.name||"begetConstructor";var i=u.inherit(e,u);return i.prototype.config=t.clone(r),i},t.extend(a,r),t.each(["log","warn","error"],function(e){a[e]=function(){typeof console!="undefined"&&console[e]&&console[e].apply&&console[e].apply(console,arguments)}}),a.initRouter=function(e,t){return new e(this,t)},a.dispose=function(){this.components&&t.invoke(this.components,"dispose"),this.stopListening(),t(this).lateralusEmptyObject()},a.spiralOut=a.dispose,a.toString=function(){return"lateralus"},u.Component=o,u.Model=i,u.Router=s,u}),define("lateralus",["lateralus/lateralus"],function(e){return e});