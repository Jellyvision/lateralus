/* Lateralus v.0.10.0 | https://github.com/Jellyvision/lateralus */
define("lateralus/lateralus.mixins",["underscore"],function(t){"use strict";function e(t){return"lateralus"===t.toString()}function n(n){var i=e(this),s=t.extend(n||{},{lateralus:i?this:this.lateralus});return i||(s.component=this.component||this),s}var i={};i.PROVIDE_PREFIX="_provide:";var s=i.PROVIDE_PREFIX;i.addComponent=function(t,n,i){if(i=i||{},"undefined"!=typeof this.component)return this.component.addComponent.apply(this.component,arguments);if("lateralus-model"===this.toString())return this.lateralus.addComponent.apply(this.lateralus,arguments);this.components||(this.components={},this.componentCounters={});var s=e(this),o=s?this:this.lateralus,r=new t(o,i,n||{},s?null:this);s&&r.view&&this.$el.append(r.view.$el);var a=r.toString();this.componentCounters.hasOwnProperty(a)?this.componentCounters[a]++:this.componentCounters[a]=0;var l=a+this.componentCounters[a];return this.components[l]=r,r},i.emit=function(){var n=t.toArray(arguments);this.trigger.apply(this,n),e(this)||(this.component&&this.component.trigger.apply(this.component,n),this.lateralus.trigger.apply(this.lateralus,n))},i.amplify=function(e,n){this.listenTo(e,n,t.bind(this.emit,this,n))},i.listenFor=function(t,n){var i=e(this);i?this.on(t,n):this.listenTo(this.lateralus,t,n)},i.setupProviders=function(){t.each(this.provide,function(t,e){e.match(s)||(this.provide[s+e]=function(e,n){e(t.apply(this,n))},delete this.provide[e])},this)},i.collect=function(e){var n=t.toArray(arguments).slice(1),i=[];return this.emit(s+e,t.bind(i.push,i),n),t.reject(i,function(t){return void 0===t})},i.collectOne=function(){return this.collect.apply(this,arguments)[0]};var o=/^(\S+)\s*(.*)$/;return i.delegateLateralusEvents=function(){return this.setupProviders(),t.each({lateralusEvents:this.lateralus||this,provide:this.lateralus||this,modelEvents:this.model},function(n,i){if(n){var s=this[i];if(s){var r=s,a=this.constructor.prototype;if(a[i]){delete a[i];var l=this[i];a[i]=t.defaults(r,l)}}for(var u in s){var h=s[u];t.isFunction(h)||(h=this[s[u]]),h||new Error('Method "'+h+'" not found for '+this.toString());var c=u.match(o),p=c[1],d=t.bind(h,this);e(this)&&e(n)?this.on(p,d):this.listenTo(n,p,d)}}},this),this},i.initModel=function(t,i,s){if(e(this))return new t(this,i,s);var o=n.call(this,s);return new t(i,o)},i.initCollection=function(t,e,i){var s=n.call(this,i);return new t(e,s)},i.mixin=function(e){t.extend(this,t.omit(e,"initialize")),"function"==typeof e.initialize&&e.initialize.call(this)},i}),define("lateralus/lateralus.model",["underscore","backbone","./lateralus.mixins"],function(t,e,n){"use strict";var i={};i.constructor=function(n,i,s){this.lateralus=n,this.delegateLateralusEvents(),this.on("change",t.bind(this.onChange,this)),e.Model.call(this,i,s)},i.onChange=function(){var e=this.changedAttributes();t.each(t.keys(e),function(t){this.emit("change:"+t,e[t]),delete this.changed[t]},this)},t.extend(i,n);var s=e.Model.extend(i);return s.prototype.toString=function(){return this.lateralus.toString()+"-model"},s}),define("lateralus/lateralus.router",["underscore","backbone","./lateralus.mixins"],function(t,e,n){"use strict";var i={};i.constructor=function(t){this.lateralus=t,this.delegateLateralusEvents(),e.Router.apply(this,arguments)},t.extend(i,n);var s=e.Router.extend(i);return s.prototype.toString=function(){return this.lateralus.toString()+"-router"},s}),define("lateralus/lateralus.component.view",["jquery","underscore","backbone","mustache","./lateralus.mixins"],function(t,e,n,i,s){"use strict";var o={};o.template=null,o.constructor=function(t,e,i,s){this.lateralus=t,this.parentView=s||null,this.component=e,i.model&&(this.model=i.model),this.delegateLateralusEvents(),n.View.call(this,i)},o.initialize=function(t){this.parentView||this.$el.addClass(this.toString()),this.className&&this.$el.addClass(this.className),e.extend(this,e.defaults(e.clone(t),this.attachDefaultOptions)),this.renderTemplate(),this.deferredInitialize&&e.defer(e.bind(this.deferredInitialize,this))},o.attachDefaultOptions={},o.addSubview=function(t,e){this.subviews||(this.subviews=[]);var n=new t(this.lateralus,this.component,e,this);return this.subviews.push(n),n},o.getTemplateRenderData=function(){var t={};return this.model&&e.extend(t,this.model.toJSON()),e.extend(t,this.lateralus.globalRenderData),t},o.getTemplatePartials=function(){return e.extend(this.templatePartials||{},this.lateralus.globalPartials)},o.renderTemplate=function(){this.template&&(this.$el.children().remove(),this.$el.html(i.render(this.template,this.getTemplateRenderData(),this.getTemplatePartials())),this.bindToDOM())},o.bindToDOM=function(){this.$el.find("[class]").each(e.bind(function(n,i){var s=t(i),o=s.attr("class").split(/\s+/);e.each(o,function(t){if(t.match(/^\$/))return this[t]=s,!1},this)},this))},o.dispose=function(){this.remove();var t=this.parentView;return t&&(t.subviews=e.without(t.subviews,this)),this},e.extend(o,s);var r=n.View.extend(o);return r.prototype.toString=function(){return this.component.toString()+"-view"},r}),define("lateralus/lateralus.component.model",["underscore","backbone","./lateralus.mixins"],function(t,e,n){"use strict";var i=e.Model,s=i.prototype,o={constructor:function(t,n){this.lateralus=n.lateralus,this.component=n.component,this.delegateLateralusEvents(),e.Model.call(this,t,n)},destroy:function(t){t=t||{};var e=t.dispose;t.dispose=!1,s.destroy.apply(this,arguments),e&&this.dispose()},dispose:function(){t(this).lateralusDispose(t.bind(function(){this.collection&&this.collection.remove(this)},this))}};t.extend(o,n);var r=i.extend(o);return r.prototype.toString=function(){return this.component.toString()+"-model"},r}),define("lateralus/lateralus.component.collection",["underscore","backbone","./lateralus.mixins"],function(t,e,n){"use strict";var i=e.Collection,s=i.prototype,o={};o.constructor=function(t,e){this.lateralus=e.lateralus,this.component=e.component,this.delegateLateralusEvents(),i.apply(this,arguments)},o.set=function(e,n){var i=t.extend(n||{},{lateralus:this.lateralus,component:this.component});return s.set.call(this,e,i)},o.remove=function(e,n){n=n||{},s.remove.apply(this,arguments),n.dispose&&(e=t.isArray(e)?e:[e],t.invoke(e,"dispose"))},t.extend(o,n);var r=i.extend(o);return r.prototype.toString=function(){return this.lateralus.toString()+"-collection"},r}),define("lateralus/lateralus.component",["underscore","backbone","./lateralus.mixins","./lateralus.component.view","./lateralus.component.model","./lateralus.component.collection"],function(t,e,n,i,s,o){"use strict";function r(e,n,i,s){if(this.lateralus=e,this.mixins&&t.each(this.mixins,t.bind(this.mixin,this)),s&&(this.parentComponent=s),this.View){var o=i;this.Model&&!i.model&&(n.modelOptions=t.extend(n.modelOptions||{},{lateralus:e,component:this}),this.model=new this.Model(n.modelAttributes,n.modelOptions),o.model=this.model),this.view=new this.View(e,this,o)}t.extend(this,n),this.initialize&&this.initialize(n),this.delegateLateralusEvents()}function a(t,e){var n;for(n in e)e[n]===t&&delete e[n]}var l=r.prototype;return r.View=i,r.Model=s,r.Collection=o,r.extend=function(n){var i=e.Model.extend.call(this,n);if(!n.name)throw new Error("A name was not provided to Component.extend.");return t.extend(i,n),i},t.extend(l,e.Events,n),l.name="component",l.dispose=function(){t(this).lateralusDispose(t.bind(function(){this.view&&this.view.dispose(),this.components&&t.invoke(this.components,"dispose");var e=this.parentComponent;e&&a(this,e.components),t.contains(this.lateralus.components,this)&&a(this,this.lateralus)},this))},l.toJSON=function(){return{}},l.toString=function(){return this.name},r}),define("lateralus/lateralus",["jquery","underscore","backbone","./lateralus.mixins","./lateralus.model","./lateralus.router","./lateralus.component"],function(t,e,n,i,s,o,r){"use strict";function a(e){this.el=e,this.$el=t(e);var n=this.config.Model||s;this.model=new n(this),this.globalRenderData={},this.globalPartials={},this.delegateLateralusEvents()}e.mixin({lateralusEmptyObject:function(t){var e;for(e in t)t.hasOwnProperty(e)&&delete t[e]},lateralusDispose:function(t,n){t.trigger("beforeDispose"),n&&n(),t.stopListening(),e(t).lateralusEmptyObject()}},{chain:!1});var l=a.prototype;return e.extend(l,n.Events),a.inherit=function(t,e){function n(){}return n.prototype=e.prototype,t.prototype=new n,t},a.beget=function(t,n){var i=n||{};t.displayName=t.name||"begetConstructor";var s=a.inherit(t,a);return s.prototype.config=e.clone(i),s},e.extend(l,i),e.each(["log","warn","error"],function(t){l[t]=function(){"undefined"!=typeof console&&console[t]&&console[t].apply&&console[t].apply(console,arguments)}}),l.initRouter=function(t,e){return new t(this,e)},l.shareWith=function(t,e){this.amplify(t,i.PROVIDE_PREFIX+e)},l.dispose=function(){e(this).lateralusDispose(e.bind(function(){this.components&&e.invoke(this.components,"dispose")},this))},l.spiralOut=l.dispose,l.toString=function(){return"lateralus"},a.Component=r,a.Model=s,a.Router=o,a}),define("lateralus",["lateralus/lateralus"],function(t){return t});